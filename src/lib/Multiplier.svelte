<script context="module" lang="ts">
    type key = "normal_attack" | "elemental_skill" | "elemental_burst";
    const data = {
        normal_attack: [
            [
                "Hit 1 (%ATK)",
                "43.26",
                "46.78",
                "50.3",
                "55.33",
                "58.85",
                "62.88",
                "68.41",
                "73.94",
                "79.47",
                "85.51",
                "91.55",
            ],
            [
                "Hit 2 (%ATK)",
                "40.25",
                "43.52",
                "46.8",
                "51.48",
                "54.76",
                "58.5",
                "63.65",
                "68.8",
                "73.94",
                "79.56",
                "85.18",
            ],
            [
                "Hit 3 (%ATK)",
                "53.32",
                "57.66",
                "62",
                "68.2",
                "72.54",
                "77.5",
                "84.32",
                "91.14",
                "97.96",
                "105.4",
                "112.84",
            ],
            [
                "Hit 4 (%ATK)",
                "26.32<br />+<br />26.32",
                "28.46<br />+<br />28.46",
                "30.6<br />+<br />30.6",
                "33.66<br />+<br />33.66",
                "35.8<br />+<br />35.8",
                "38.25<br />+<br />38.25",
                "41.62<br />+<br />41.62",
                "44.98<br />+<br />44.98",
                "48.35<br />+<br />48.35",
                "52.02<br />+<br />52.02",
                "55.69<br />+<br />55.69",
            ],
            [
                "Hit 5 (%ATK)",
                "65.62",
                "70.96",
                "76.3",
                "83.93",
                "89.27",
                "95.38",
                "103.77",
                "112.16",
                "120.55",
                "129.71",
                "138.87",
            ],
            [
                "Charged Attack (%ATK)",
                "110.67",
                "119.68",
                "128.69",
                "141.56",
                "150.57",
                "160.86",
                "175.02",
                "189.17",
                "203.33",
                "218.77",
                "234.22",
            ],
            ["Charged Attack Stamina Consumption", "25"],
            [
                "Plunge (%ATK)",
                "63.93",
                "69.14",
                "74.34",
                "81.77",
                "86.98",
                "92.92",
                "101.1",
                "109.28",
                "117.46",
                "126.38",
                "135.3",
            ],
            [
                "Low Plunge (%ATK)",
                "127.84",
                "138.24",
                "148.65",
                "163.51",
                "173.92",
                "185.81",
                "202.16",
                "218.51",
                "234.86",
                "252.7",
                "270.54",
            ],
            [
                "High Plunge (%ATK)",
                "159.68",
                "172.67",
                "185.67",
                "204.24",
                "217.23",
                "232.09",
                "252.51",
                "272.93",
                "293.36",
                "315.64",
                "337.92",
            ],
        ],
        elemental_skill: [
            [
                "Press DMG (%ATK)",
                "139.2",
                "149.64",
                "160.08",
                "174",
                "184.44",
                "194.88",
                "208.8",
                "222.72",
                "236.64",
                "250.56",
                "264.48",
                "278.4",
                "295.8",
                "313",
            ],
            [
                "Hold DMG (%ATK)",
                "188.8",
                "202.96",
                "217.12",
                "236",
                "250.16",
                "264.32",
                "283.2",
                "302.08",
                "320.96",
                "339.84",
                "358.72",
                "377.6",
                "401.2",
                "424.8",
            ],
            [
                "Quill DMG (%ATK)",
                "45.66",
                "49.08",
                "52.5",
                "57.07",
                "60.49",
                "63.92",
                "68.48",
                "73.05",
                "77.62",
                "82.18",
                "86.75",
                "91.31",
                "97.02",
                "102.7",
            ],
            ["Press/Hold Duration", "10s / 15s"],
            ["Press/Hold Quota", "5 / 7"],
            ["Press/Hold Cooldown", "10s / 15s"],
        ],
        elemental_burst: [
            [
                "Initial DMG (%ATK)",
                "100.8",
                "108.36",
                "115.92",
                "126",
                "133.56",
                "141.12",
                "151.2",
                "161.28",
                "171.36",
                "181.44",
                "191.52",
                "201.6",
                "214.2",
                "227",
            ],
            ["RES Shred (%)", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15"],
            [
                "Tick DMG (%ATK)",
                "33.12",
                "35.6",
                "38.09",
                "41.4",
                "43.88",
                "46.37",
                "49.68",
                "52.99",
                "56.3",
                "59.62",
                "62.93",
                "66.24",
                "70.38",
                "74.5",
            ],
            ["Duration", "12s"],
            ["Cooldown", "20s"],
            ["Energy Cost", "80"],
        ],
    } as Record<key, string[][]>;
</script>

<script lang="ts">
    import Collapsable from "./Collapsable.svelte";

    export let key: key;
</script>

<Collapsable title="Multipliers">
    <table cellspacing="0">
        <tr>
            {#each data[key][0] as _, index}
                <td><h6>{index === 0 ? "" : index}</h6></td>
            {/each}
        </tr>
        {#each data[key] as row}
            <tr>
                {#each row as item, index}
                    <td colspan={index === row.length - 1 ? data[key][0].length - index : 1}>
                        <svelte:element this={index === 0 ? "h6" : "span"}>
                            {@html item}
                        </svelte:element>
                    </td>
                {/each}
            </tr>
        {/each}
    </table>
</Collapsable>

<style lang="scss">
    table {
        border-collapse: collapse;
    }

    td {
        border: 1px solid #fff5;
        padding: 0.5em;
        text-align: center;
    }

    h6 {
        margin: 0;
    }
</style>
